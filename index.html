<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Just because â€” Yna</title>
  <style>
    :root {
      --bg: #fdf2f4;
      --card-bg: rgba(255, 255, 255, 0.95);
      --accent: #d66d75;
      --accent-light: #ffb7c5;
      --text: #5a4a4a;
      --shadow: 0 15px 35px rgba(214, 109, 117, 0.15);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden; 
      overscroll-behavior-y: contain;
    }

    /* Invisible Tap Zones */
    .tap-zone {
      position: fixed;
      top: 0;
      height: 100vh;
      z-index: 200;
      cursor: pointer;
    }
    .tap-left { left: 0; width: 20%; }
    .tap-right { right: 0; width: 80%; }

    .bubbles {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1;
      pointer-events: none;
    }
    .bubble, .heart-float {
      position: absolute;
      opacity: 0.3;
      animation: floatUp 15s infinite ease-in;
    }
    .bubble { background: var(--accent-light); border-radius: 50%; }
    .heart-float { color: var(--accent); user-select: none; }

    @keyframes floatUp {
      0% { transform: translateY(110vh) scale(0.5); opacity: 0; }
      20% { opacity: 0.4; }
      100% { transform: translateY(-20vh) scale(1.2); opacity: 0; }
    }

    .entry-photo {
      background: white;
      padding: 12px 12px 40px 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transform: rotate(-3deg);
      margin-bottom: 30px;
      width: 220px;
    }
    .entry-photo img {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      display: block;
    }

    .main-wrapper {
      position: relative;
      width: min(450px, 92vw);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      touch-action: pan-y;
    }

    .slider-viewport {
      width: 100%;
      overflow: hidden;
      border-radius: 32px;
    }

    .slider-track {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .bento-card {
      flex: 0 0 100%;
      backdrop-filter: blur(15px);
      padding: 40px 25px;
      height: 480px; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .days-num { font-size: 4.5rem; font-weight: 800; color: var(--accent); margin: 5px 0; }
    .section-title { text-transform: uppercase; letter-spacing: 2px; font-size: 0.75rem; opacity: 0.6; margin-bottom: 20px; font-weight: bold; }

    .reason-box {
      background: white;
      padding: 30px;
      border-radius: 20px;
      min-height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      box-shadow: inset 0 0 10px rgba(214, 109, 117, 0.05);
      border: 1px solid var(--bg);
    }

    /* New Next Chapter Polaroid Styles */
    .next-chapter-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      width: 100%;
      padding: 10px;
    }

    .polaroid-small {
      background: white;
      padding: 8px 8px 30px 8px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
      position: relative;
    }

    .polaroid-small img {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      display: block;
    }

    .polaroid-small .caption {
      position: absolute;
      bottom: 5px;
      left: 0;
      right: 0;
      text-align: center;
      font-family: 'Comic Sans MS', cursive, sans-serif; /* Gives a handwritten feel */
      font-size: 0.7rem;
      color: #777;
    }

    /* Random rotations for a "scattered" look */
    .polaroid-small:nth-child(odd) { transform: rotate(-3deg); }
    .polaroid-small:nth-child(even) { transform: rotate(3deg); }
    .polaroid-small:hover { transform: scale(1.05) rotate(0deg); z-index: 10; }

    /* Typewriter Letter Styles */
    .typewriter-container {
      background: #fdfcf0; /* Paper-like color */
      padding: 20px;
      border-radius: 8px;
      box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
      width: 100%;
      height: 300px; /* Fixed height for auto-scrolling */
      overflow-y: auto; /* Allows scrolling */
      text-align: left;
      border: 1px solid #e0d8c3;
      scrollbar-width: none; /* Hide scrollbar for clean look */
    }
    .typewriter-container::-webkit-scrollbar { display: none; }

    #typewriter-text {
      font-family: 'Courier New', Courier, monospace;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #444;
      white-space: pre-wrap; /* Preserves line breaks from your text */
      margin: 0;
    }

    /* Flashing cursor */
    #typewriter-text::after {
      content: '|';
      animation: blink 0.8s infinite;
      color: var(--accent);
      font-weight: bold;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* Memory slider */
    .polaroid-viewport {
      height: 320px;
      overflow: hidden;
      width: 100%;
      position: relative;
      mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
    }

    .film-strip {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      animation: slideVertical 15s linear infinite;
    }

    .polaroid { 
      background: white; 
      padding: 8px 8px 20px 8px; 
      box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
      transform: rotate(var(--r));
      width: 180px;
      flex-shrink: 0;
    }

    .polaroid img { 
      width: 100%; 
      aspect-ratio: 1; 
      object-fit: cover; 
      display: block;
    }

    @keyframes slideVertical {
      0% { transform: translateY(0); }
      100% { transform: translateY(calc(-50% - 10px)); }
    }

    #gate-overlay {
      position: fixed; inset: 0; background: var(--bg);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 1000;
    }
    .open-btn {
      background: var(--accent); color: white; border: none;
      padding: 16px 45px; border-radius: 50px; font-size: 1.1rem;
      cursor: pointer; font-weight: bold;
    }

    /* Bouquet Styles */
    .bouquet-layout {
      position: relative;
      width: 100%;
      height: 420px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .bouquet-polaroid {
      position: absolute;
      width: 120px;
      background: white;
      padding: 8px 8px 22px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.12);
      border-radius: 2px;
      text-align: center;
      z-index: 1;
    }

    .bouquet-polaroid img {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      display: block;
    }

    .bouquet-polaroid span {
      position: absolute;
      bottom: 4px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 12px;
      color: var(--accent);
    }

    .pos-tl { top: 140px; left: 5%; transform: rotate(-6deg); }
    .pos-tr { top: 140px; right: 5%; transform: rotate(6deg); }
    .pos-bl { bottom: 70px; left: 8%; transform: rotate(4deg); }
    .pos-br { bottom: 70px; right: 8%; transform: rotate(-4deg); }

    .blushing-bouquet {
      position: relative;
      z-index: 2;
    }

  </style>
</head>
<body>

  <div class="bubbles" id="bubble-container"></div>

  <div id="gate-overlay">
    <div class="entry-photo">
      <img src="https://picsum.photos/400/400" alt="Us">
      <p style="text-align:center; font-family: cursive; margin: 15px 0 0 0; color: #888;">For Yna</p>
    </div>
    <button class="open-btn" onclick="startExperience()">Open your surprise! ðŸ’—</button>
  </div>

  <div id="nav-controls" style="display:none">
    <div class="tap-zone tap-left" onclick="prev()"></div>
    <div class="tap-zone tap-right" onclick="next()"></div>
  </div>

  <div class="main-wrapper" id="main-content" style="display:none">
    <div class="slider-viewport">
      <div class="slider-track" id="track">
        
        <div class="bento-card">
          <p class="section-title">Been together for</p>
          <h2 class="days-num" id="daysCount">0</h2>
          <p class="section-title">Days</p>
          <p style="margin-top: 40px; font-size: 12px; opacity: 0.5;">It all started with a Hi...</p>
        </div>

        <div class="bento-card">
          <p class="section-title">Memories</p>
          <div class="polaroid-viewport">
            <div class="film-strip">
              <div class="polaroid" style="--r:-3deg"><img src="https://picsum.photos/200/200?1"></div>
              <div class="polaroid" style="--r:2deg"><img src="https://picsum.photos/200/200?2"></div>
              <div class="polaroid" style="--r:-2deg"><img src="https://picsum.photos/200/200?3"></div>
              <div class="polaroid" style="--r:3deg"><img src="https://picsum.photos/200/200?4"></div>
              <div class="polaroid" style="--r:-3deg"><img src="https://picsum.photos/200/200?1"></div>
              <div class="polaroid" style="--r:2deg"><img src="https://picsum.photos/200/200?2"></div>
              <div class="polaroid" style="--r:-2deg"><img src="https://picsum.photos/200/200?3"></div>
              <div class="polaroid" style="--r:3deg"><img src="https://picsum.photos/200/200?4"></div>
            </div>
          </div>
        </div>

        <div class="bento-card">
          <p class="section-title">100 Things I Love</p>
          <div class="reason-box">
            <p id="reason-text" style="font-size: 1.1rem; transition: opacity 0.4s;">Loading...</p>
          </div>
          <p style="margin-top: 15px; font-size: 11px; opacity: 0.5;">The heart changes automatically âœ¨</p>
        </div>

        <div class="bento-card">
          <p class="section-title">Things to look forward to</p>
          <div class="next-chapter-grid">
            
            <div class="polaroid-small">
              <img src="https://picsum.photos/200/200?travel" alt="Travel">
              <span class="caption">Travels</span>
            </div>

            <div class="polaroid-small">
              <img src="https://picsum.photos/200/200?ramen" alt="Ramen">
              <span class="caption">Dates</span>
            </div>

            <div class="polaroid-small">
              <img src="https://picsum.photos/200/200?home" alt="Home">
              <span class="caption">Gatherings</span>
            </div>

            <div class="polaroid-small">
              <img src="https://picsum.photos/200/200?coffee" alt="Coffee">
              <span class="caption">Just being with each other</span>
            </div>

          </div>
        </div>

        <div class="bento-card">
          <p class="section-title">A Note for You</p>
          <div class="typewriter-container" id="letter-scroll-area">
            <p id="typewriter-text"></p>
          </div>
          <div id="letter-source" style="display:none;">
            Yna,

            As I'm writing this I'm smiling just thinking about you. All those cafe dates, gala, arguments, sweet and intimate moments with each other.
            It's rare to have a genuine connection with someone in this generation, especially romantically. I want to thank you for giving me a chance to know you deeply. For sharing your time, stories and burden with me.
            You changed my perspective in everything Yna. I've suppressed my soft side for a long time, and I loved that I got to show it, especially to you.
            My favorite memory was when we were drinking near Ate V. There I saw the real you. A fragile person that just wants someone to understand her. I try my best to give that understanding because that's what you need.
            I promise I'll try my best to make you happy always. Thank you for this year BB! I hope we always find a way to choose each other. I love you always!

            Sweetest regards,
            Your favorite kaaway, Bon
          </div>
        </div>  

        <div class="bento-card">
          <p class="section-title">Virtual Flowers for you,</p>
          <div class="bouquet-container">
            <div class="bouquet-polaroid pos-tl"><img src="https://picsum.photos/200/200?1"><span>â™¥</span></div>
            <div class="bouquet-polaroid pos-tr"><img src="https://picsum.photos/200/200?2"><span>â™¥</span></div>
            <div class="bouquet-polaroid pos-bl"><img src="https://picsum.photos/200/200?3"><span>â™¥</span></div>
            <div class="bouquet-polaroid pos-br"><img src="https://picsum.photos/200/200?4"><span>â™¥</span></div>
            <svg width="220" height="260" viewBox="0 0 200 260" class="blushing-bouquet">
              <g stroke="#437d5b" stroke-width="3" fill="none" stroke-linecap="round">
                <path d="M100 240 Q95 180 80 130" />
                <path d="M100 240 Q100 180 100 110" />
                <path d="M100 240 Q105 180 125 130" />
                <path d="M100 240 Q80 190 60 150" />
                <path d="M100 240 Q120 190 140 150" />
              </g>
              <path d="M60 250 L140 250 L125 190 L75 190 Z" fill="#f8d7da" />
              <path d="M75 190 Q100 170 125 190" fill="#f8d7da" />
              <rect x="85" y="215" width="30" height="6" rx="3" fill="#d66d75" />
              <g transform="translate(65,145)" class="flower-sway">
                <circle cx="0" cy="0" r="20" fill="#ffccd5" opacity="0.9" />
                <circle cx="0" cy="0" r="12" fill="#ffb3c1" />
                <circle cx="0" cy="0" r="6" fill="#ff85a1" />
              </g>
              <g transform="translate(135,145)" class="flower-sway" style="animation-delay: -1s;">
                <circle cx="0" cy="0" r="20" fill="#ffccd5" opacity="0.9" />
                <circle cx="0" cy="0" r="12" fill="#ffb3c1" />
                <circle cx="0" cy="0" r="6" fill="#ff85a1" />
              </g>
              <g transform="translate(80,110)" class="flower-sway" style="animation-delay: -0.5s;">
                <circle cx="0" cy="0" r="18" fill="#ffc300" />
                <circle cx="0" cy="0" r="10" fill="#6d4c41" />
              </g>
              <g transform="translate(125,110)" class="flower-sway" style="animation-delay: -1.5s;">
                <circle cx="0" cy="0" r="18" fill="#ffc300" />
                <circle cx="0" cy="0" r="10" fill="#6d4c41" />
              </g>
              <g transform="translate(100,85)" class="flower-sway">
                <ellipse cx="0" cy="0" rx="15" ry="22" fill="#ff4d6d" />
                <ellipse cx="-7" cy="0" rx="10" ry="18" fill="#ff758f" />
                <ellipse cx="7" cy="0" rx="10" ry="18" fill="#ff758f" />
                <ellipse cx="0" cy="5" rx="8" ry="12" fill="#ffb3c1" />
              </g>
            </svg>
          </div>
        </div>

      </div>
    </div>
  </div>

  <audio id="myAudio" loop>
    <source src="Contents/music/Libu-Libong Buwan (Uuwian) - Kyle Raphael (Lyric Video).mp3" type="audio/mpeg">
  </audio>

<script>
    const startDate = new Date('2025-06-03');
    let currentIndex = 0;
    const track = document.getElementById('track');
    const totalCards = 6; 

    // --- Typewriter Variables ---
    let typingStarted = false;
    const letterSource = `Yna,

As I'm writing this I'm smiling just thinking about you. All those cafe dates, gala, arguments, sweet and intimate moments with each other.

It's rare to have a genuine connection with someone in this generation, especially romantically. I want to thank you for giving me a chance to know you deeply. For sharing your time, stories and burden with me.

You changed my perspective in everything Yna. I've suppressed my soft side for a long time, and I loved that I got to show it, especially to you.

My favorite memory was when we were drinking near Ate V. There I saw the real you. A fragile person that just wants someone to understand her. I try my best to give that understanding because that's what you need.

I promise I'll try my best to make you happy always. Thank you for this year BB! I hope we always find a way to choose each other. I love you always!

Sweetest regards,
Your favorite kaaway, Bon`;

    let touchStartX = 0;
    let touchEndX = 0;
    const mainContent = document.getElementById('main-content');
    
    mainContent.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    }, {passive: true});

    mainContent.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    }, {passive: true});

    function handleSwipe() {
      const swipeThreshold = 50;
      if (touchStartX - touchEndX > swipeThreshold) { next(); } 
      else if (touchEndX - touchStartX > swipeThreshold) { prev(); }
    }

    const reasons = [
      "The way you smile when you're shy.",
      "How you always know how to comfort me.",
      "Your incredible strength.",
      "The way you look at me.",
      "Your laugh is my favorite sound.",
      "How safe I feel in your arms.",
      "Amoy ng kili kili mo.",
      "Pag lasing ka."
    ];
    let reasonIndex = 0;

    function changeReason() {
      const textEl = document.getElementById('reason-text');
      if(!textEl) return;
      textEl.style.opacity = 0;
      setTimeout(() => {
        reasonIndex = (reasonIndex + 1) % reasons.length;
        textEl.innerText = reasons[reasonIndex];
        textEl.style.opacity = 1;
      }, 400);
    }

    // --- Typewriter Function ---
    function typeWriter() {
      const typewriterElement = document.getElementById('typewriter-text');
      const scrollArea = document.getElementById('letter-scroll-area');
      let i = 0;
      const speed = 100; 

      function type() {
        if (i < letterSource.length) {
          typewriterElement.textContent += letterSource.charAt(i);
          i++;
          // Auto-scroll to bottom
          if (scrollArea) {
            scrollArea.scrollTop = scrollArea.scrollHeight;
          }
          setTimeout(type, speed);
        }
      }
      type();
    }

    function startExperience() {
      document.getElementById('gate-overlay').style.display = 'none';
      document.getElementById('main-content').style.display = 'flex';
      document.getElementById('nav-controls').style.display = 'block';
      
      const audio = document.getElementById('myAudio');
      audio.play().catch(e => console.log("Audio play blocked"));
      
      const reasonEl = document.getElementById('reason-text');
      if(reasonEl) reasonEl.innerText = reasons[0];
      
      setInterval(changeReason, 5000);
      updateCounter();
    }

    function updateCounter() {
      const diffDays = Math.floor(Math.abs(new Date() - startDate) / (1000 * 60 * 60 * 24));
      const daysEl = document.getElementById('daysCount');
      if(daysEl) daysEl.innerText = diffDays;
    }

    function next() { if (currentIndex < totalCards - 1) { currentIndex++; updateSlider(); } }
    function prev() { if (currentIndex > 0) { currentIndex--; updateSlider(); } }

    function updateSlider() {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      
      // Trigger typewriter when reaching the letter card (Index 4)
      if (currentIndex === 4 && !typingStarted) {
        typingStarted = true;
        setTimeout(typeWriter, 800); 
      }
    }

    const bContainer = document.getElementById('bubble-container');
    function createFloater(type) {
      const el = document.createElement('div');
      el.className = type;
      const size = Math.random() * 25 + 15 + 'px';
      if(type === 'bubble') { el.style.width = size; el.style.height = size; }
      else { el.innerHTML = 'ðŸ’—'; el.style.fontSize = size; }
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDuration = (Math.random() * 8 + 8) + 's';
      bContainer.appendChild(el);
    }
    for (let i = 0; i < 15; i++) { createFloater('bubble'); createFloater('heart-float'); }
  </script>
</body>
</html>